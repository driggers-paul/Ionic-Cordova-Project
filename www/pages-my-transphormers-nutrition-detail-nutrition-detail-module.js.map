{"version":3,"sources":["webpack:///./src/app/pages/my-transphormers/nutrition-detail/nutrition-detail.module.ts","webpack:///./src/app/pages/my-transphormers/nutrition-detail/nutrition-detail.page.html","webpack:///./src/app/pages/my-transphormers/nutrition-detail/nutrition-detail.page.scss","webpack:///./src/app/pages/my-transphormers/nutrition-detail/nutrition-detail.page.ts","webpack:///./src/app/services/trainer-transphormer/trainer-transphormer.service.ts"],"names":[],"mappings":"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","file":"pages-my-transphormers-nutrition-detail-nutrition-detail-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { NutritionDetailPage } from './nutrition-detail.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: NutritionDetailPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [NutritionDetailPage]\r\n})\r\nexport class NutritionDetailPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [defaultHref]=\\\"backHref\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Nutrition Details</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<div class=\\\"content\\\">\\r\\n    <div class=\\\"header\\\">\\r\\n        <div>Date</div>\\r\\n        <div>Cals</div>\\r\\n        <div>Protein</div>\\r\\n        <div>Carbs</div>\\r\\n        <div>Fats</div>\\r\\n    </div>\\r\\n    <div class=\\\"listing\\\" *ngIf=\\\"dayData.length > 0\\\">\\r\\n        <div (click)=\\\"expandDate(macro)\\\" [ngClass]=\\\"{even: i%2 === 0, odd: i%2 === 1, expanded: this.expansions[macro.track_date]}\\\" class=\\\"day\\\" *ngFor=\\\"let macro of sortedFood; let i = index;\\\">\\r\\n            <div class=\\\"data\\\" *ngIf=\\\"macro.calories !== 0\\\">\\r\\n                <div class=\\\"date\\\">{{ macro.short_date }}</div>\\r\\n                <div class=\\\"calories\\\">{{ macro.calories }}</div>\\r\\n                <div class=\\\"protein\\\">{{ macro.protein }}</div>\\r\\n                <div class=\\\"carbs\\\">{{ macro.carbs }}</div>\\r\\n                <div class=\\\"fats\\\">{{ macro.fats}}</div>\\r\\n            </div>\\r\\n            <div class=\\\"data empty\\\" *ngIf=\\\"macro.calories === 0\\\">\\r\\n                <div class=\\\"date\\\">{{ macro.short_date }}</div>\\r\\n                <div class=\\\"message\\\" text-center>No data.</div>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"this.expansions[macro.track_date]\\\" class=\\\"meals\\\">\\r\\n                <div *ngFor=\\\"let meal of macro.meals; let j = index;\\\">\\r\\n                    <div class=\\\"meal\\\">\\r\\n                        <div class=\\\"data\\\" [ngClass]=\\\"{even: j%2 === 0, odd: j%2 === 1}\\\">\\r\\n                            <div class=\\\"meal-number\\\">M #{{ meal.meal }}</div>\\r\\n                            <div class=\\\"calories\\\">{{ meal.calories }}</div>\\r\\n                            <div class=\\\"protein\\\">{{ meal.protein }}</div>\\r\\n                            <div class=\\\"carbs\\\">{{ meal.carbs }}</div>\\r\\n                            <div class=\\\"fats\\\">{{ meal.fats}}</div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div text-center=\\\"\\\">\\r\\n            <small>Tap on any line to get daily breakdowns.</small>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"dayData.length === 0\\\" class=\\\"centered\\\">\\r\\n        No nutrition data available for the last 2 weeks.\\r\\n    </div>\\r\\n</div>\\r\\n\"","module.exports = \".content {\\n  display: flex;\\n  flex-direction: column;\\n  font-size: larger;\\n  height: calc(100vh - 44px); }\\n\\n.plt-android .content {\\n  height: calc(100vh - 74px); }\\n\\n.listing {\\n  flex: 1;\\n  overflow-y: scroll; }\\n\\n.expanded > .data {\\n  background: #444;\\n  color: white; }\\n\\n.day.even {\\n  background: #efefef; }\\n\\n.day.even .meals {\\n    margin-bottom: 24px; }\\n\\n.day.even .meals .even {\\n      background: #f3f3f3; }\\n\\n.day.even .meals .odd {\\n      background: #fafafa; }\\n\\n.day.odd {\\n  background: #ddd; }\\n\\n.day.odd .meals {\\n    margin-bottom: 8px; }\\n\\n.day.odd .meals .even {\\n      background: #fafafa; }\\n\\n.day.odd .meals .odd {\\n      background: #fff; }\\n\\n.day .meals .data {\\n  font-weight: bold;\\n  padding: .25em 0;\\n  font-size: large; }\\n\\n.day .data {\\n  padding: .5em 0;\\n  display: flex;\\n  flex-direction: row;\\n  font-weight: 900; }\\n\\n.day .data .message {\\n    width: 80%;\\n    font-weight: 100;\\n    color: #aaa; }\\n\\n.day .data div {\\n    width: 20%;\\n    text-align: center;\\n    margin: 4px 0; }\\n\\n.header {\\n  display: flex; }\\n\\n.header div {\\n    background: var(--ion-1p-blue-darker);\\n    color: white;\\n    width: 20%;\\n    text-align: center;\\n    padding: 4px 0;\\n    font-weight: 900; }\\n\\n.centered {\\n  text-align: center;\\n  padding: 4em 1em; }\\n\\n.calories {\\n  color: var(--ion-1p-calorie-color); }\\n\\n.carbs {\\n  color: var(--ion-1p-carb-color); }\\n\\n.protein {\\n  color: var(--ion-1p-protein-color); }\\n\\n.fats {\\n  color: var(--ion-1p-fat-color); }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbXktdHJhbnNwaG9ybWVycy9udXRyaXRpb24tZGV0YWlsL0U6XFxpb25pY1xcVmVydmVDb21tZXJjZVxcTmV3RGV2XFxtdHN0LWFwcC9zcmNcXGFwcFxccGFnZXNcXG15LXRyYW5zcGhvcm1lcnNcXG51dHJpdGlvbi1kZXRhaWxcXG51dHJpdGlvbi1kZXRhaWwucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixpQkFBaUI7RUFDakIsMEJBQTBCLEVBQUE7O0FBRzVCO0VBQ0UsMEJBQTBCLEVBQUE7O0FBRzVCO0VBQ0UsT0FBTztFQUNQLGtCQUFrQixFQUFBOztBQUdwQjtFQUNFLGdCQUFnQjtFQUNoQixZQUFZLEVBQUE7O0FBR2Q7RUFjSSxtQkFBbUIsRUFBQTs7QUFkdkI7SUFHTSxtQkFBbUIsRUFBQTs7QUFIekI7TUFNUSxtQkFBbUIsRUFBQTs7QUFOM0I7TUFVUSxtQkFBbUIsRUFBQTs7QUFWM0I7RUFrQkksZ0JBQWdCLEVBQUE7O0FBbEJwQjtJQW9CTSxrQkFBa0IsRUFBQTs7QUFwQnhCO01BdUJRLG1CQUFtQixFQUFBOztBQXZCM0I7TUEyQlEsZ0JBQWdCLEVBQUE7O0FBM0J4QjtFQWtDTSxpQkFBaUI7RUFDakIsZ0JBQWdCO0VBQ2hCLGdCQUFnQixFQUFBOztBQXBDdEI7RUF5Q0ksZUFBZTtFQUNmLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsZ0JBQWdCLEVBQUE7O0FBNUNwQjtJQStDTSxVQUFVO0lBQ1YsZ0JBQWdCO0lBQ2hCLFdBQVcsRUFBQTs7QUFqRGpCO0lBb0RNLFVBQVU7SUFDVixrQkFBa0I7SUFDbEIsYUFBYSxFQUFBOztBQUtuQjtFQUNFLGFBQWEsRUFBQTs7QUFEZjtJQUlJLHFDQUFxQztJQUNyQyxZQUFZO0lBQ1osVUFBVTtJQUNWLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2QsZ0JBQWdCLEVBQUE7O0FBSXBCO0VBQ0Usa0JBQWtCO0VBQ2xCLGdCQUFnQixFQUFBOztBQUdsQjtFQUNFLGtDQUFrQyxFQUFBOztBQUdwQztFQUNFLCtCQUErQixFQUFBOztBQUdqQztFQUNFLGtDQUFrQyxFQUFBOztBQUdwQztFQUNFLDhCQUE4QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbXktdHJhbnNwaG9ybWVycy9udXRyaXRpb24tZGV0YWlsL251dHJpdGlvbi1kZXRhaWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRlbnQge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBmb250LXNpemU6IGxhcmdlcjtcclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA0NHB4KTtcclxufVxyXG5cclxuLnBsdC1hbmRyb2lkIC5jb250ZW50IHtcclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA3NHB4KTtcclxufVxyXG5cclxuLmxpc3Rpbmcge1xyXG4gIGZsZXg6IDE7XHJcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xyXG59XHJcblxyXG4uZXhwYW5kZWQgPiAuZGF0YSB7XHJcbiAgYmFja2dyb3VuZDogIzQ0NDtcclxuICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi5kYXkge1xyXG4gICYuZXZlbiB7XHJcbiAgICAubWVhbHMge1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xyXG5cclxuICAgICAgLmV2ZW4ge1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNmM2YzZjM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5vZGQge1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNmYWZhZmE7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBiYWNrZ3JvdW5kOiAjZWZlZmVmO1xyXG4gIH1cclxuXHJcbiAgJi5vZGQge1xyXG4gICAgYmFja2dyb3VuZDogI2RkZDtcclxuICAgIC5tZWFscyB7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcclxuXHJcbiAgICAgIC5ldmVuIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjZmFmYWZhO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAub2RkIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAubWVhbHMge1xyXG4gICAgLmRhdGEge1xyXG4gICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgcGFkZGluZzogLjI1ZW0gMDtcclxuICAgICAgZm9udC1zaXplOiBsYXJnZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5kYXRhIHtcclxuICAgIHBhZGRpbmc6IC41ZW0gMDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgZm9udC13ZWlnaHQ6IDkwMDtcclxuXHJcbiAgICAubWVzc2FnZSB7XHJcbiAgICAgIHdpZHRoOiA4MCU7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiAxMDA7XHJcbiAgICAgIGNvbG9yOiAjYWFhO1xyXG4gICAgfVxyXG4gICAgZGl2IHtcclxuICAgICAgd2lkdGg6IDIwJTtcclxuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICBtYXJnaW46IDRweCAwO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLmhlYWRlciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuXHJcbiAgZGl2IHtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWlvbi0xcC1ibHVlLWRhcmtlcik7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICB3aWR0aDogMjAlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogNHB4IDA7XHJcbiAgICBmb250LXdlaWdodDogOTAwO1xyXG4gIH1cclxufVxyXG5cclxuLmNlbnRlcmVkIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgcGFkZGluZzogNGVtIDFlbTtcclxufVxyXG5cclxuLmNhbG9yaWVzIHtcclxuICBjb2xvcjogdmFyKC0taW9uLTFwLWNhbG9yaWUtY29sb3IpO1xyXG59XHJcblxyXG4uY2FyYnMge1xyXG4gIGNvbG9yOiB2YXIoLS1pb24tMXAtY2FyYi1jb2xvcik7XHJcbn1cclxuXHJcbi5wcm90ZWluIHtcclxuICBjb2xvcjogdmFyKC0taW9uLTFwLXByb3RlaW4tY29sb3IpO1xyXG59XHJcblxyXG4uZmF0cyB7XHJcbiAgY29sb3I6IHZhcigtLWlvbi0xcC1mYXQtY29sb3IpO1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { MacroCountingInfo } from '../../../services/nutrition/nutrition.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { TrainerTransphormerService } from '../../../services/trainer-transphormer/trainer-transphormer.service';\r\nimport { Transphormer } from '../../../services/authentication/authentication.service';\r\nimport * as moment from 'moment';\r\nimport { TrackedFood } from '../../../services/food-items/food-items.service';\r\nimport { Moment } from 'moment';\r\nimport { MacroInfo } from '../../nutrition/nutrition-calculator';\r\n\r\ninterface MealInfo extends MacroInfo {\r\n  meal: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-nutrition-detail',\r\n  templateUrl: './nutrition-detail.page.html',\r\n  styleUrls: ['./nutrition-detail.page.scss'],\r\n})\r\nexport class NutritionDetailPage implements OnInit {\r\n  public transphormer: Transphormer;\r\n  public dayData: [{\r\n    track_date: string | Date | Moment,\r\n    short_date: string,\r\n    carbs: number,\r\n    fats: number,\r\n    calories: number,\r\n    protein: number,\r\n    meals: MealInfo[]\r\n  }?] = [];\r\n  private expansions = [];\r\n\r\n  constructor(\r\n    private trainerTransphormerService: TrainerTransphormerService,\r\n    private transphormerService: TrainerTransphormerService,\r\n    private route: ActivatedRoute\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.route.paramMap.subscribe(pmap => this.loadTransphormer(pmap.get('id')));\r\n  }\r\n\r\n  public async loadTransphormer(id: string) {\r\n    this.transphormer = <Transphormer>await this.transphormerService.transphormer(+id);\r\n    this.loadDefaultNutritionData();\r\n  }\r\n\r\n  public get backHref() {\r\n    return this.transphormer ? `/details/${this.transphormer.id}` : '/my-transphormers';\r\n  }\r\n\r\n  public async loadDefaultNutritionData() {\r\n    const end = moment();\r\n    const start = moment().subtract(14, 'day');\r\n    return this.trainerTransphormerService.trackedItems(\r\n      this.transphormer.id,\r\n      start.format('YYYY-MM-DD'),\r\n      end.format('YYYY-MM-DD'),\r\n    )\r\n      .then((result: MacroCountingInfo[]) => {\r\n        result.forEach((day) => {\r\n          const dayInfo = this.processDay(day);\r\n          this.dayData.push(dayInfo);\r\n        });\r\n      });\r\n  }\r\n\r\n  public expandDate(macro) {\r\n    if (macro.calories === 0) {\r\n      return;\r\n    }\r\n    const date = macro.track_date;\r\n    this.expansions[date] = (this.expansions[date] ? !this.expansions[date] : true);\r\n  }\r\n\r\n  sumMacro(macro: string, day: MacroCountingInfo, meal?: number) {\r\n    return Math.round(day.tracked_items.reduce((a, v: TrackedFood) => !meal ? a + v[macro] : (v.meal !== meal ? a : (a + v[macro])), 0));\r\n  }\r\n\r\n  public sumAll(day, meal?): MacroInfo {\r\n    const val: MacroInfo = <any>{};\r\n    const items = ['calories', 'fats', 'protein', 'carbs'];\r\n    items.forEach((i) => {\r\n      val[i] = this.sumMacro(i, day, meal);\r\n    });\r\n    return val;\r\n  }\r\n\r\n  public processDay(day: MacroCountingInfo) {\r\n    const mealNumbers = [];\r\n    const meals: MealInfo[] = [];\r\n\r\n    day.tracked_items.forEach((item) => {\r\n      if (mealNumbers.indexOf(item.meal) === -1) {\r\n        mealNumbers.push(item.meal);\r\n      }\r\n    });\r\n\r\n    mealNumbers.forEach((number) => {\r\n      meals.push({\r\n        meal: number,\r\n        ...this.sumAll(day, number)\r\n      });\r\n    });\r\n\r\n    return {\r\n      track_date: day.track_date,\r\n      short_date: moment(day.track_date).format('M/D'),\r\n      ...this.sumAll(day),\r\n      meals\r\n    };\r\n  }\r\n\r\n  get sortedFood() {\r\n    return this.dayData.sort((a, b) => a.track_date < b.track_date ? 1 : -1);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BaseService } from '../base/base.service';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ErrorFormat } from '../errors/errors.service';\r\nimport { Transphormer } from '../authentication/authentication.service';\r\nimport { CameraPhotos } from '../camera/camera.service';\r\nimport { Weight } from '../weights/weights.service';\r\nimport * as moment from 'moment';\r\nimport { Platform } from '@ionic/angular';\r\nimport { MacroCountingInfo } from '../nutrition/nutrition.service';\r\n\r\nexport interface ListingParams extends Object {\r\n  activeDays: number | string;\r\n  uploadDays: number | string;\r\n  haveNotUploadDays: number | string;\r\n  joinedDays: number | string;\r\n  name: string;\r\n  customer_for_life?: boolean | '';\r\n  is_premium?: boolean | '';\r\n  not_messaged_in?: number | string;\r\n}\r\n\r\nexport interface PaginatedLinkedApplications {\r\n  data: Transphormer[];\r\n  total: number;\r\n  from: number;\r\n  to: number;\r\n  last_page: number;\r\n  current_page: number;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class TrainerTransphormerService extends BaseService {\r\n  constructor(protected http: HttpClient, protected platform: Platform) {\r\n    super(http, platform);\r\n    TrainerTransphormerService.SET_PLATFORM(platform);\r\n  }\r\n\r\n  public transphormers(\r\n    params: ListingParams | null = null, page: number = 1, perPage: number = 100,\r\n  ): Promise<PaginatedLinkedApplications | ErrorFormat> {\r\n\r\n    const options = TrainerTransphormerService.BaseOptions() as any;\r\n    options.params = params ? Object.assign({}, params) : {};\r\n    options.params.perPage = perPage.toString();\r\n    options.params.page = page.toString();\r\n\r\n    return this.http\r\n      .get<PaginatedLinkedApplications>(\r\n        TrainerTransphormerService.Url('trainer/transphormer'),\r\n        options as {}\r\n      )\r\n      .toPromise()\r\n      .catch(TrainerTransphormerService.HandleError);\r\n  }\r\n\r\n  public transphormer(id: number): Promise<Transphormer | ErrorFormat> {\r\n    return this.http\r\n      .get<Transphormer>(\r\n        TrainerTransphormerService.Url(`trainer/transphormer/${id}`),\r\n        TrainerTransphormerService.BaseOptions(),\r\n      )\r\n      .toPromise()\r\n      .catch(TrainerTransphormerService.HandleError);\r\n  }\r\n\r\n  public transphormerPhotos(transphormerId: number): Promise<CameraPhotos[] | ErrorFormat> {\r\n    return this.http.get<CameraPhotos[]>(TrainerTransphormerService.Url(`trainer/transphormer/${transphormerId}/camera`),\r\n      TrainerTransphormerService.BaseOptions())\r\n      .toPromise()\r\n      .catch(TrainerTransphormerService.HandleError);\r\n  }\r\n\r\n  public transphormerWeights(transphormerId: number): Promise<Weight[] | ErrorFormat> {\r\n    return this.http.get<Weight[]>(TrainerTransphormerService.Url(`trainer/transphormer/${transphormerId}/weigh-ins`),\r\n      TrainerTransphormerService.BaseOptions())\r\n      .toPromise()\r\n      .then(weights => weights.map(weight => this.loggedDateConversion(weight)))\r\n      .catch(TrainerTransphormerService.HandleError);\r\n  }\r\n\r\n  public trackedItems(transphormerId: number, from?: string, to?: string): Promise<MacroCountingInfo[] | ErrorFormat> {\r\n    let url = `trainer/transphormer/${transphormerId}/tracked-items`;\r\n    const opts = [];\r\n    if (from) {\r\n      opts.push('from=' + escape(from));\r\n    }\r\n    if (to) {\r\n      opts.push('to=' + escape(to));\r\n    }\r\n    if (opts.length > 0) {\r\n      url += '?' + opts.join('&');\r\n    }\r\n    return this.http.get<MacroCountingInfo[]>(TrainerTransphormerService.Url(url),\r\n      TrainerTransphormerService.BaseOptions())\r\n      .toPromise()\r\n      .catch(TrainerTransphormerService.HandleError);\r\n  }\r\n\r\n  /**\r\n   * Converts logged date string value to date value\r\n   * @param weight\r\n   */\r\n  private loggedDateConversion(weight: Weight): Weight {\r\n    weight.logged_on = moment(weight.logged_on, 'YYYY-MM-DD HH:mm:ss', true);\r\n    return weight;\r\n  }\r\n}\r\n"],"sourceRoot":""}