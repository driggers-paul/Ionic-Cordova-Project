{"version":3,"sources":["webpack:///./src/app/pages/invite/invite.module.ts","webpack:///./src/app/pages/invite/invite.page.html","webpack:///./src/app/pages/invite/invite.page.scss","webpack:///./src/app/pages/invite/invite.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AACV;AACF;AACkC;AACd;AAE/D,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,uDAAU;KACtB;CACF,CAAC;AAaF;IAAA;IACA,CAAC;IADY,gBAAgB;QAX5B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAC7B,qFAAc;gBACd,uEAAU;aACX;YACD,YAAY,EAAE,CAAC,uDAAU,CAAC;SAC3B,CAAC;OACW,gBAAgB,CAC5B;IAAD,uBAAC;CAAA;AAD4B;;;;;;;;;;;;AC3B7B,mnBAAmnB,MAAM,+O;;;;;;;;;;;ACAznB,+DAA+D,+I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACArB;AACc;AAC0B;AACxC;AACuC;AAOjF;IAIE,oBACU,SAAoB,EACpB,QAAsB,EACtB,cAA8B,EAC9B,QAAkB;QAJ5B,iBAWC;QAVS,cAAS,GAAT,SAAS,CAAW;QACpB,aAAQ,GAAR,QAAQ,CAAc;QACtB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,aAAQ,GAAR,QAAQ,CAAU;QAE1B,IAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QAC7E,IAAI,CAAC,cAAc,CAAC,0BAA0B,CAAC,YAAY,CAAC,EAAE,CAAC;aAC5D,IAAI,CAAC,UAAC,WAAoB;YACzB,KAAI,CAAC,IAAI,GAAG,WAAW,CAAC,YAAY,CAAC;QACvC,CAAC,CAAC,CAAC;IACP,CAAC;IAEY,6BAAQ,GAArB;;;;;;wBACM,UAAU,GAAG,IAAI,CAAC;6BAClB,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAA5B,wBAA4B;wBACxB,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;wBAClD,KAAK,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;wBACrC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;wBAC5B,MAAM,CAAC,YAAY,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;wBACtC,IAAI;4BACF,oEAAoE;4BACpE,UAAU,GAAG,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;yBAC3C;wBAAC,OAAO,GAAG,EAAE;4BACZ,UAAU,GAAG,KAAK,CAAC;yBACpB;;;;wBAGC,qBAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;;wBAApC,SAAoC,CAAC;;;;wBAErC,UAAU,GAAG,KAAK,CAAC;;;wBAGvB,IAAI,UAAU,EAAE;4BACd,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;yBACrC;6BAAM;4BACL,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;yBAC7C;;;;;KACF;IA1CU,UAAU;QALtB,+DAAS,CAAC;YACT,QAAQ,EAAE,YAAY;YACtB,kGAAiC;;SAElC,CAAC;yCAMqB,qEAAS;YACV,0FAAY;YACN,gFAAc;YACpB,uDAAQ;OARjB,UAAU,CA4CtB;IAAD,iBAAC;CAAA;AA5CsB","file":"pages-invite-invite-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { InvitePage } from './invite.page';\r\nimport { SideMenuModule } from '../../components/side-menu/side-menu.module';\r\nimport { LogoModule } from '../../components/logo/logo.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: InvitePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    SideMenuModule,\r\n    LogoModule\r\n  ],\r\n  declarations: [InvitePage]\r\n})\r\nexport class InvitePageModule {\r\n}\r\n","module.exports = \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-title>Invite Transphormers</ion-title>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <app-menu-button></app-menu-button>\\r\\n        </ion-buttons>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n    <div>\\r\\n        <app-logo></app-logo>\\r\\n        <p>Tap the button below to copy your URL to the clipboard.\\r\\n            Share it on Social media, chat programs, or anywhere else.</p>\\r\\n        <p>This URL includes your legionnaire ID!</p>\\r\\n        <div class=\\\"ion-text-center\\\">\\r\\n            <p class=\\\"email-link\\\">{{link}}</p>\\r\\n        </div>\\r\\n        <div>\\r\\n            <ion-button expand=\\\"full\\\" size=\\\"large\\\" class=\\\"ion-margin-top\\\" (click)=\\\"copyLink()\\\">Copy URL to the Clipboard</ion-button>\\r\\n        </div>\\r\\n    </div>\\r\\n</ion-content>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2ludml0ZS9pbnZpdGUucGFnZS5zY3NzIn0= */\"","import { Component } from '@angular/core';\r\nimport { Clipboard } from '@ionic-native/clipboard/ngx';\r\nimport { ToastService } from '../../services/toast-service/toast-service.service';\r\nimport { Platform } from '@ionic/angular';\r\nimport { Trainer, TrainerService } from '../../services/trainer/trainer.service';\r\n\r\n@Component({\r\n  selector: 'app-invite',\r\n  templateUrl: './invite.page.html',\r\n  styleUrls: ['./invite.page.scss'],\r\n})\r\nexport class InvitePage {\r\n\r\n  link: string;\r\n\r\n  constructor(\r\n    private clipboard: Clipboard,\r\n    private toastSvc: ToastService,\r\n    private trainerService: TrainerService,\r\n    private platform: Platform,\r\n  ) {\r\n    const transphormer = JSON.parse(window.localStorage.getItem('transphormer'));\r\n    this.trainerService.getTrainerByTransphormerId(transphormer.id)\r\n      .then((trainerData: Trainer) => {\r\n        this.link = trainerData.referral_url;\r\n      });\r\n  }\r\n\r\n  public async copyLink() {\r\n    let successful = true;\r\n    if (!this.platform.is('cordova')) {\r\n      const emailLink = document.querySelector('.email-link');\r\n      const range = document.createRange();\r\n      range.selectNode(emailLink);\r\n      window.getSelection().addRange(range);\r\n      try {\r\n        // Now that we've selected the anchor text, execute the copy command\r\n        successful = document.execCommand('copy');\r\n      } catch (err) {\r\n        successful = false;\r\n      }\r\n    } else {\r\n      try {\r\n        await this.clipboard.copy(this.link);\r\n      } catch (e) {\r\n        successful = false;\r\n      }\r\n    }\r\n    if (successful) {\r\n      this.toastSvc.flash('Link copied.');\r\n    } else {\r\n      this.toastSvc.flash('Unable to copy link.');\r\n    }\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}