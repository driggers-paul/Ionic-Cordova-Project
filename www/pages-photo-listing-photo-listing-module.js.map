{"version":3,"sources":["webpack:///./src/app/pages/photo-listing/photo-listing.module.ts","webpack:///./src/app/pages/photo-listing/photo-listing.page.html","webpack:///./src/app/pages/photo-listing/photo-listing.page.scss","webpack:///./src/app/pages/photo-listing/photo-listing.page.ts","webpack:///./src/app/services/camera/camera.service.ts"],"names":[],"mappings":"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","file":"pages-photo-listing-photo-listing-module.js","sourcesContent":["import { ZoomImgComponent } from '../../components/zoom-img/zoom-img.component';\r\nimport { ZoomImgModule } from '../../components/zoom-img/zoom-img.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { PhotoListingPage } from './photo-listing.page';\r\nimport { SideMenuModule } from '../../components/side-menu/side-menu.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PhotoListingPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ZoomImgModule,\r\n    SideMenuModule\r\n  ],\r\n  declarations: [PhotoListingPage],\r\n  entryComponents: [ZoomImgComponent]\r\n})\r\nexport class PhotoListingPageModule {\r\n}\r\n","module.exports = \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <app-menu-button></app-menu-button>\\r\\n        </ion-buttons>\\r\\n        <ion-buttons slot=\\\"end\\\">\\r\\n            <ion-button (click)=\\\"photoListingAction()\\\">\\r\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"more\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>My Photos</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content scrollY=\\\"false\\\" *ngIf=\\\"allImages.length !== 0\\\">\\r\\n    <div class=\\\"container\\\">\\r\\n        <div class=\\\"latest-progress\\\" *ngIf=\\\"latestImage\\\">\\r\\n            <h6 class=\\\"list-header\\\">Latest Progress</h6>\\r\\n            <div class=\\\"image-set\\\">\\r\\n                <div class=\\\"thumbnail\\\" (click)=\\\"openZoomImg(latestImage.picture_front)\\\">\\r\\n                    <img [src]=\\\"latestImage.picture_front\\\" alt=\\\"\\\">\\r\\n                </div>\\r\\n                <div class=\\\"thumbnail\\\" (click)=\\\"openZoomImg(latestImage.picture_back)\\\">\\r\\n                    <img [src]=\\\"latestImage.picture_back\\\" alt=\\\"\\\">\\r\\n                </div>\\r\\n                <div class=\\\"thumbnail\\\" (click)=\\\"openZoomImg(latestImage.picture_side)\\\">\\r\\n                    <img [src]=\\\"latestImage.picture_side\\\" alt=\\\"\\\">\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"older-progress\\\">\\r\\n            <h6 class=\\\"list-header\\\">Past Progress</h6>\\r\\n            <div class=\\\"images-listing\\\">\\r\\n                <div class=\\\"older-progress-block\\\" *ngFor=\\\"let image of images\\\">\\r\\n                    <h6 class=\\\"list-header\\\">{{ formatImage(image.created_at) }}</h6>\\r\\n                    <div class=\\\"image-set\\\">\\r\\n                        <div class=\\\"thumbnail\\\" (click)=\\\"openZoomImg(image.picture_front)\\\">\\r\\n                            <img [src]=\\\"image.picture_front\\\" alt=\\\"\\\">\\r\\n                        </div>\\r\\n                        <div class=\\\"thumbnail\\\" (click)=\\\"openZoomImg(image.picture_back)\\\">\\r\\n                            <img [src]=\\\"image.picture_back\\\" alt=\\\"\\\">\\r\\n                        </div>\\r\\n                        <div class=\\\"thumbnail\\\" (click)=\\\"openZoomImg(image.picture_side)\\\">\\r\\n                            <img [src]=\\\"image.picture_side\\\" alt=\\\"\\\">\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</ion-content>\\r\\n<ion-content *ngIf=\\\"allImages.length === 0\\\">\\r\\n    <div class=\\\"no-photos\\\">\\r\\n        <h6>No Images Uploaded.</h6>\\r\\n    </div>\\r\\n</ion-content>\\r\\n\"","module.exports = \"ion-content {\\n  --photo-padding: 10px; }\\n\\n.container {\\n  display: flex;\\n  flex-direction: column;\\n  height: calc(100vh - 44px); }\\n\\n.plt-android .container {\\n  height: calc(100vh - 74px); }\\n\\n.list-header {\\n  background-color: var(--ion-color-header);\\n  padding: var(--photo-padding);\\n  text-transform: uppercase;\\n  font-weight: bold;\\n  font-size: 12px;\\n  margin-bottom: 5px; }\\n\\n.image-set {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: var(--photo-padding); }\\n\\n.image-set .thumbnail {\\n    width: calc((100vw - var(--photo-padding) * 4) / 3); }\\n\\n.older-progress {\\n  display: flex;\\n  overflow-y: hidden;\\n  flex-direction: column; }\\n\\n.older-progress .images-listing {\\n    overflow-y: scroll; }\\n\\n.no-photos {\\n  display: flex;\\n  height: 100%;\\n  align-items: center;\\n  justify-content: center; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcGhvdG8tbGlzdGluZy9FOlxcaW9uaWNcXFZlcnZlQ29tbWVyY2VcXE5ld0RldlxcbXRzdC1hcHAvc3JjXFxhcHBcXHBhZ2VzXFxwaG90by1saXN0aW5nXFxwaG90by1saXN0aW5nLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHFCQUFnQixFQUFBOztBQUdsQjtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsMEJBQTBCLEVBQUE7O0FBRzVCO0VBQ0UsMEJBQTBCLEVBQUE7O0FBRzVCO0VBQ0UseUNBQXlDO0VBQ3pDLDZCQUE2QjtFQUM3Qix5QkFBeUI7RUFDekIsaUJBQWlCO0VBQ2pCLGVBQWU7RUFDZixrQkFBa0IsRUFBQTs7QUFHcEI7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLDhCQUE4QjtFQUM5QixtQkFBbUI7RUFDbkIsNkJBQTZCLEVBQUE7O0FBTC9CO0lBUUksbURBQW1ELEVBQUE7O0FBSXZEO0VBQ0UsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQixzQkFBc0IsRUFBQTs7QUFIeEI7SUFNSSxrQkFBa0IsRUFBQTs7QUFJdEI7RUFDRSxhQUFhO0VBQ2IsWUFBWTtFQUNaLG1CQUFtQjtFQUNuQix1QkFBdUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Bob3RvLWxpc3RpbmcvcGhvdG8tbGlzdGluZy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XHJcbiAgLS1waG90by1wYWRkaW5nOiAxMHB4O1xyXG59XHJcblxyXG4uY29udGFpbmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNDRweCk7XHJcbn1cclxuXHJcbi5wbHQtYW5kcm9pZCAuY29udGFpbmVyIHtcclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA3NHB4KTtcclxufVxyXG5cclxuLmxpc3QtaGVhZGVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItaGVhZGVyKTtcclxuICBwYWRkaW5nOiB2YXIoLS1waG90by1wYWRkaW5nKTtcclxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIGZvbnQtc2l6ZTogMTJweDtcclxuICBtYXJnaW4tYm90dG9tOiA1cHg7XHJcbn1cclxuXHJcbi5pbWFnZS1zZXQge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBwYWRkaW5nOiB2YXIoLS1waG90by1wYWRkaW5nKTtcclxuXHJcbiAgLnRodW1ibmFpbCB7XHJcbiAgICB3aWR0aDogY2FsYygoMTAwdncgLSB2YXIoLS1waG90by1wYWRkaW5nKSAqIDQpIC8gMyk7XHJcbiAgfVxyXG59XHJcblxyXG4ub2xkZXItcHJvZ3Jlc3Mge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgb3ZlcmZsb3cteTogaGlkZGVuO1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gIC5pbWFnZXMtbGlzdGluZyB7XHJcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XHJcbiAgfVxyXG59XHJcblxyXG4ubm8tcGhvdG9zIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { CameraPhotos } from '../../services/camera/camera.service';\r\nimport { ErrorsService } from '../../services/errors/errors.service';\r\nimport {\r\n  LoadingController,\r\n  ToastController,\r\n  ActionSheetController,\r\n  NavController,\r\n  ModalController,\r\n} from '@ionic/angular';\r\nimport { CameraService } from '../../services/camera/camera.service';\r\nimport * as moment from 'moment';\r\nimport { ZoomImgComponent } from '../../components/zoom-img/zoom-img.component';\r\nimport { cloneDeep } from 'lodash';\r\n\r\n@Component({\r\n  selector: 'app-photo-listing',\r\n  templateUrl: './photo-listing.page.html',\r\n  styleUrls: ['./photo-listing.page.scss'],\r\n})\r\nexport class PhotoListingPage implements OnInit {\r\n  public images: CameraPhotos[] = [];\r\n  public allImages: CameraPhotos[] = [];\r\n  public latestImage: CameraPhotos;\r\n\r\n  constructor(\r\n    public errorHandler: ErrorsService,\r\n    private toastCtrl: ToastController,\r\n    private loadingCtrl: LoadingController,\r\n    private cameraService: CameraService,\r\n    private actionCtrl: ActionSheetController,\r\n    private navCtrl: NavController,\r\n    private modal: ModalController,\r\n    private changeDetector: ChangeDetectorRef\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setupImages();\r\n  }\r\n\r\n  private async setupImages() {\r\n    const loader = await this.loadingCtrl.create({\r\n      message: 'Please wait',\r\n    });\r\n    await loader.present();\r\n\r\n    try {\r\n      this.allImages = <CameraPhotos[]>await this.cameraService.images();\r\n      this.images = cloneDeep(this.allImages);\r\n      this.latestImage = this.images[0];\r\n      this.images.splice(0, 1);\r\n    } catch (e) {\r\n      const toast = await this.toastCtrl.create({\r\n        message: this.errorHandler.firstError(e),\r\n        duration: 3000,\r\n      });\r\n      await toast.present();\r\n    } finally {\r\n      loader.dismiss();\r\n    }\r\n  }\r\n\r\n  public async photoListingAction() {\r\n    const actionSheet = await this.actionCtrl.create({\r\n      buttons: [\r\n        {\r\n          text: 'Reverse Order',\r\n          icon: 'funnel',\r\n          handler: () => {\r\n            this.images = this.images.reverse();\r\n            this.changeDetector.detectChanges();\r\n          },\r\n        },\r\n        {\r\n          text: 'Take new photos',\r\n          icon: 'camera',\r\n          handler: () => {\r\n            this.navCtrl.navigateRoot('camera', {\r\n              animated: true,\r\n              animationDirection: 'forward'\r\n            });\r\n          },\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n        },\r\n      ],\r\n    });\r\n    await actionSheet.present();\r\n  }\r\n\r\n  public formatImage(date: string): string {\r\n    return moment(date, 'YYYY-MM-DD HH:mm:ss').format('MMMM Do, YYYY');\r\n  }\r\n\r\n  public async openZoomImg(imageSource: string) {\r\n    const myModal = await this.modal.create({\r\n      component: ZoomImgComponent,\r\n      backdropDismiss: false,\r\n      componentProps: {\r\n        imgSource: imageSource\r\n      },\r\n    });\r\n    await myModal.present();\r\n  }\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { BaseService } from '../base/base.service';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ErrorFormat } from '../errors/errors.service';\r\nimport { Platform } from '@ionic/angular';\r\nimport { RollbarService } from '../../rollbar';\r\nimport * as Rollbar from 'rollbar';\r\n\r\nexport interface CameraPhotos {\r\n  picture_front: string;\r\n  picture_back: string;\r\n  picture_side: string;\r\n  transphormer_id: number;\r\n  id: number;\r\n  video_url: string;\r\n  text?: string;\r\n  created_at: string;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CameraService extends BaseService {\r\n\r\n  constructor(protected http: HttpClient, protected platform: Platform, @Inject(RollbarService) protected rollbar: Rollbar) {\r\n    super(http, platform);\r\n    CameraService.SET_PLATFORM(platform);\r\n  }\r\n\r\n  public uploadImages(data: FormData): Promise<CameraPhotos | ErrorFormat> {\r\n    const options = CameraService.BaseOptions();\r\n    options.headers.set('enctype', 'multipart/form-data');\r\n\r\n    return this.http.post<CameraPhotos>(CameraService.Url('camera'), data, options)\r\n      .toPromise()\r\n      .then((value) => {\r\n        return Promise.resolve<CameraPhotos>(value);\r\n      })\r\n      .catch((errorResponse) => {\r\n        this.rollbar.error(errorResponse);\r\n        const errorContent = {\r\n          status: errorResponse.status,\r\n          list: {global: ['Something went wrong']}\r\n        };\r\n        return Promise.reject<ErrorFormat>(errorContent);\r\n      });\r\n  }\r\n\r\n  public images(): Promise<CameraPhotos[] | ErrorFormat> {\r\n    return this.http.get<CameraPhotos[]>(CameraService.Url('camera'), CameraService.BaseOptions(true, true))\r\n      .toPromise()\r\n      .catch(CameraService.HandleError);\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}