{"version":3,"sources":["webpack:///./src/app/pages/account-settings/account-settings.module.ts","webpack:///./src/app/pages/account-settings/account-settings.page.html","webpack:///./src/app/pages/account-settings/account-settings.page.scss","webpack:///./src/app/pages/account-settings/account-settings.page.ts","webpack:///./src/app/services/analytics/analytic-events.enum.ts","webpack:///./src/app/services/errors/errors.service.ts"],"names":[],"mappings":"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","file":"pages-account-settings-account-settings-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AccountSettingsPage } from './account-settings.page';\r\nimport { LocalNotifications } from '@ionic-native/local-notifications/ngx';\r\nimport { Pro } from '@ionic-native/pro/ngx';\r\nimport { SideMenuModule } from '../../components/side-menu/side-menu.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AccountSettingsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ReactiveFormsModule,\r\n    SideMenuModule\r\n  ],\r\n  declarations: [AccountSettingsPage],\r\n  providers: [LocalNotifications, Pro]\r\n})\r\nexport class AccountSettingsPageModule {\r\n}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Settings</ion-title>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <app-menu-button></app-menu-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <form [formGroup]='form' (ngSubmit)=\\\"updateAccountSetting()\\\">\\r\\n    <ion-list>\\r\\n      <ion-list-header>Reminders</ion-list-header>\\r\\n      <ion-item>\\r\\n        <ion-label>Photo Reminders</ion-label>\\r\\n        <ion-select okText=\\\"Okay\\\" cancelText=\\\"Dismiss\\\" formControlName='photo_reminder'>\\r\\n          <ion-select-option [value]=\\\"1\\\">Every week</ion-select-option>\\r\\n          <ion-select-option [value]=\\\"2\\\">Every 2 weeks</ion-select-option>\\r\\n          <ion-select-option [value]=\\\"3\\\">Every 3 weeks</ion-select-option>\\r\\n        </ion-select>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-label>Weigh in Reminders</ion-label>\\r\\n        <ion-select formControlName=\\\"weigh_reminder\\\" okText=\\\"Okay\\\" cancelText=\\\"Dismiss\\\">\\r\\n          <ion-select-option value=\\\"null\\\">Never</ion-select-option>\\r\\n          <ion-select-option [value]=\\\"1\\\">Every week</ion-select-option>\\r\\n          <ion-select-option [value]=\\\"2\\\">Every 2 weeks</ion-select-option>\\r\\n          <ion-select-option [value]=\\\"3\\\">Every 3 weeks</ion-select-option>\\r\\n        </ion-select>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-label>Workout Reminders</ion-label>\\r\\n        <ion-toggle slot=\\\"end\\\" formControlName=\\\"workout_reminder\\\"></ion-toggle>\\r\\n      </ion-item>\\r\\n      <ion-item *ngIf=\\\"form.get('workout_reminder').value === true\\\">\\r\\n        <ion-label>What Time?</ion-label>\\r\\n        <ion-datetime displayFormat=\\\"hh:mm A\\\" formControlName=\\\"what_time\\\"></ion-datetime>\\r\\n      </ion-item>\\r\\n      <ion-list-header>Notifications</ion-list-header>\\r\\n      <ion-item>\\r\\n        <div>\\r\\n          <ion-label>New Chat Messages</ion-label>\\r\\n          <span class=\\\"description\\\">Get notification of new chat messages from your Transphormation Advisor.</span>\\r\\n        </div>\\r\\n        <ion-toggle slot=\\\"end\\\" formControlName=\\\"receive_email\\\"></ion-toggle>\\r\\n      </ion-item>\\r\\n      <ion-item text-wrap>\\r\\n        <div>\\r\\n          <ion-label>Announcements</ion-label>\\r\\n          <span class=\\\"description\\\">Get notified of new announcements from your Transphormation Advisor.</span>\\r\\n        </div>\\r\\n        <ion-toggle slot=\\\"end\\\" formControlName=\\\"receive_notification\\\"></ion-toggle>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n    <ion-item text-wrap>\\r\\n      <div>\\r\\n        <ion-label>Livestreams</ion-label>\\r\\n        <span class=\\\"description\\\">Get notifications for Livestreams.</span>\\r\\n      </div>\\r\\n      <ion-toggle slot=\\\"end\\\" formControlName=\\\"receive_livestream_notification\\\"></ion-toggle>\\r\\n    </ion-item>\\r\\n    <ion-button type=\\\"submit\\\" padding color=\\\"primary\\\" expand=\\\"full\\\">Update</ion-button>\\r\\n  </form>\\r\\n</ion-content>\\r\\n\"","module.exports = \".app-info {\\n  font-size: 10px; }\\n\\nion-label + span.description {\\n  margin: -8px 0 10px 0;\\n  display: block;\\n  font-size: 12px;\\n  color: var(--ion-color-text); }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWNjb3VudC1zZXR0aW5ncy9FOlxcaW9uaWNcXFZlcnZlQ29tbWVyY2VcXE5ld0RldlxcbXRzdC1hcHAvc3JjXFxhcHBcXHBhZ2VzXFxhY2NvdW50LXNldHRpbmdzXFxhY2NvdW50LXNldHRpbmdzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQWUsRUFBQTs7QUFHakI7RUFDRSxxQkFBcUI7RUFDckIsY0FBYztFQUNkLGVBQWU7RUFDZiw0QkFBNEIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FjY291bnQtc2V0dGluZ3MvYWNjb3VudC1zZXR0aW5ncy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYXBwLWluZm8ge1xyXG4gIGZvbnQtc2l6ZTogMTBweDtcclxufVxyXG5cclxuaW9uLWxhYmVsICsgc3Bhbi5kZXNjcmlwdGlvbiB7XHJcbiAgbWFyZ2luOiAtOHB4IDAgMTBweCAwO1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIGZvbnQtc2l6ZTogMTJweDtcclxuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXRleHQpO1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ErrorsService } from '../../services/errors/errors.service';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { AccountService, AccountSetting } from '../../services/account/account.service';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Transphormer } from '../../services/authentication/authentication.service';\r\nimport { ToastService } from '../../services/toast-service/toast-service.service';\r\nimport { AnalyticsService } from '../../services/analytics/analytics.service';\r\nimport { AnalyticEvents } from './../../services/analytics/analytic-events.enum';\r\n@Component({\r\n  selector: 'app-account-settings',\r\n  templateUrl: './account-settings.page.html',\r\n  styleUrls: ['./account-settings.page.scss'],\r\n})\r\nexport class AccountSettingsPage implements OnInit {\r\n  public form: FormGroup;\r\n\r\n  public transphormer: Transphormer;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    public errorService: ErrorsService,\r\n    private loadingCtrl: LoadingController,\r\n    private toastSvc: ToastService,\r\n    private accountService: AccountService,\r\n    private analyticService: AnalyticsService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.transphormer = JSON.parse(window.localStorage.getItem('transphormer'));\r\n    this.form = this.formBuilder.group({\r\n      photo_reminder: this.formBuilder.control('', [Validators.required]),\r\n      weigh_reminder: this.formBuilder.control('', [Validators.required]),\r\n      workout_reminder: this.formBuilder.control('', [Validators.required]),\r\n      what_time: this.formBuilder.control('', [Validators.required]),\r\n      receive_email: this.formBuilder.control('', [Validators.required]),\r\n      receive_notification: this.formBuilder.control('', [Validators.required]),\r\n      receive_livestream_notification: this.formBuilder.control({\r\n        value: false,\r\n        disabled: !this.transphormer.is_paid_user\r\n      }, [Validators.required]),\r\n    });\r\n\r\n    this.getAccountSetting();\r\n  }\r\n\r\n  private async getAccountSetting() {\r\n    const loader = await this.loadingCtrl.create({\r\n      message: 'Please wait...',\r\n    });\r\n    await loader.present();\r\n\r\n    try {\r\n      const data = <AccountSetting>await this.accountService.getAccountSetting();\r\n\r\n      const rawValue = <Object>this.form.getRawValue();\r\n      for (const key in data) {\r\n        if (rawValue.hasOwnProperty(key)) {\r\n          this.form.get(key).setValue(data[key]);\r\n        }\r\n      }\r\n\r\n    } catch (e) {\r\n      this.toastSvc.flash(this.errorService.firstError(e));\r\n    } finally {\r\n      loader.dismiss();\r\n    }\r\n  }\r\n\r\n  public async updateAccountSetting() {\r\n    const loader = await this.loadingCtrl.create({\r\n      message: 'Please wait...',\r\n    });\r\n    await loader.present();\r\n\r\n    try {\r\n      const data = this.form.getRawValue();\r\n      await this.accountService.updateAccountSetting(data);\r\n      const time = data.what_time.split(':');\r\n      this.accountService.setWorkoutReminder(\r\n        data.workout_reminder,\r\n        time.length > 1 ? parseFloat(time[0]) : 0,\r\n        time.length > 1 ? parseFloat(time[1]) : 0\r\n      );\r\n      await this.accountService.setWorkoutReminder(data.workout_reminder, parseFloat(time[0]), parseFloat(time[1]));\r\n      await this.accountService.setPhotoReminder(true, data.photo_reminder);\r\n      await this.accountService.setWeighInReminder(true, data.weigh_reminder);\r\n      await this.accountService.subscribeToLiveStream(data.receive_livestream_notification);\r\n      await this.analyticService.logEvent(AnalyticEvents.ChangingConfiguration, {});\r\n\r\n      this.toastSvc.flash('Account setting updated successfully');\r\n    } catch (e) {\r\n      this.toastSvc.flash(this.errorService.firstError(e));\r\n    } finally {\r\n      loader.dismiss();\r\n    }\r\n  }\r\n}\r\n","export enum AnalyticEvents {\r\n  ViewingWorkouts = 'viewing_workouts',\r\n  AddingWeightIn = 'adding_weigh_in',\r\n  LoggingNutrition = 'logging_nutrition',\r\n  MessagingWithTrainer = 'messaging_with_trainer',\r\n  WatchingLiveStream = 'watching_live_stream',\r\n  HelpView = 'help_view',\r\n  WorkoutHelp = 'workout_help',\r\n  SearchingAdvisor = 'searching_advisor',\r\n  DroppingAdvisor = 'dropping_advisor',\r\n  TakingPhotos = 'taking_photos',\r\n  ViewingAnnouncements = 'viewing_announcements',\r\n  UpdatingProfile = 'updating_profile',\r\n  ChangingConfiguration = 'changing_configuration'\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AbstractControl, FormControl } from '@angular/forms';\r\n\r\ntype StateColors = 'dark' | 'danger' | 'warning';\r\n\r\nexport interface ErrorFormat {\r\n  status: number;\r\n  list: ErrorList;\r\n}\r\n\r\nexport interface ErrorList {\r\n  [key: string]: string[];\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ErrorsService {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  // noinspection JSMethodCanBeStatic\r\n  public stateColor(item: FormControl | AbstractControl): StateColors {\r\n    if (item.invalid && !item.dirty) {\r\n      return 'dark';\r\n    } else if (item.invalid) {\r\n      return 'danger';\r\n    } else {\r\n      return 'dark';\r\n    }\r\n  }\r\n\r\n  // noinspection JSMethodCanBeStatic\r\n  /**\r\n   * Returns the first error key with first value in the error object\r\n   * @param errors\r\n   * @return string\r\n   */\r\n  public firstError(errors: ErrorFormat): string {\r\n    if (!this.checkIsCorrectStructure(errors)) {\r\n      return '';\r\n    }\r\n\r\n    const keys = Object.keys(errors.list);\r\n    return errors.list[keys[0]][0];\r\n  }\r\n\r\n  // noinspection JSMethodCanBeStatic\r\n  /**\r\n   * Returns the errors for the key\r\n   * @param key\r\n   * @param errors\r\n   */\r\n  public errorForKey(key: string, errors: ErrorFormat): string[] {\r\n    if (!this.checkIsCorrectStructure(errors)) {\r\n      return [];\r\n    }\r\n    if (errors.list.hasOwnProperty(key)) {\r\n      return errors.list[key];\r\n    }\r\n\r\n    return [];\r\n  }\r\n\r\n  // noinspection JSMethodCanBeStatic\r\n  /**\r\n   * Returns the first error value for the given key\r\n   * @param key\r\n   * @param errors\r\n   */\r\n  public firstErrorForKey(key: string, errors: ErrorFormat): string {\r\n    if (!this.checkIsCorrectStructure(errors)) {\r\n      return '';\r\n    }\r\n\r\n    if (errors.list.hasOwnProperty(key)) {\r\n      if (errors.list[key].length > 0) {\r\n        return errors.list[key][0];\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  // noinspection JSMethodCanBeStatic\r\n  /**\r\n   * Checks whether the given key has any errors\r\n   * @param key\r\n   * @param errors\r\n   */\r\n  public keyHasError(key: string, errors: ErrorFormat): boolean {\r\n\r\n    if (!this.checkIsCorrectStructure(errors)) {\r\n      return false;\r\n    }\r\n\r\n    if (errors.list.hasOwnProperty(key)) {\r\n      return errors.list[key].length > 0;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  // noinspection JSMethodCanBeStatic\r\n  /**\r\n   * Checks whether the given key has any errors\r\n   * @param errors\r\n   */\r\n  public hasError(errors: ErrorFormat): boolean {\r\n\r\n    if (!this.checkIsCorrectStructure(errors)) {\r\n      return false;\r\n    }\r\n\r\n    for (const key in errors.list) {\r\n      if (errors.list[key].length > 0) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Returns the error status value\r\n   * @param errors\r\n   */\r\n  public status(errors: ErrorFormat): number {\r\n    if (!this.checkIsCorrectStructure(errors)) {\r\n      return -1;\r\n    }\r\n    return errors.status;\r\n  }\r\n\r\n  public checkIsCorrectStructure(error: any | ErrorFormat, throwException: boolean = true): boolean {\r\n    const isCorrect = !(!error.hasOwnProperty('status') || !error.hasOwnProperty('list'));\r\n\r\n    if (throwException && isCorrect === false) {\r\n      throw error;\r\n    }\r\n\r\n    return isCorrect;\r\n  }\r\n}\r\n"],"sourceRoot":""}