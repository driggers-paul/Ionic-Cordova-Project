{"version":3,"sources":["webpack:///./src/app/pages/my-transphormers/photos/photos.module.ts","webpack:///./src/app/pages/my-transphormers/photos/photos.page.html","webpack:///./src/app/pages/my-transphormers/photos/photos.page.scss","webpack:///./src/app/pages/my-transphormers/photos/photos.page.ts"],"names":[],"mappings":"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","file":"pages-my-transphormers-photos-photos-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { PhotosPage } from './photos.page';\r\nimport { ProgressUpdateModule } from '../../../components/progress-update/progress-update.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PhotosPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ProgressUpdateModule\r\n  ],\r\n  declarations: [PhotosPage],\r\n})\r\nexport class PhotosPageModule {\r\n}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button [defaultHref]=\\\"'/details/' + transphormerId\\\" text=\\\"\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-buttons slot=\\\"end\\\" (click)=\\\"photoListingAction()\\\">\\r\\n      <ion-icon name=\\\"more\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Transphormer Updates</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<div id=\\\"main-updates\\\" [ngSwitch]=\\\"allImages.length\\\">\\r\\n  <div *ngSwitchCase=\\\"0\\\" text-center>\\r\\n    No Images uploaded.\\r\\n  </div>\\r\\n  <div *ngSwitchCase=\\\"1\\\">\\r\\n    <h6 class=\\\"list-header\\\">First & Only Update</h6>\\r\\n    <app-progress-update [update]=\\\"latestImage\\\" expanded=\\\"true\\\"></app-progress-update>\\r\\n  </div>\\r\\n  <div *ngSwitchDefault>\\r\\n    <div class=\\\"latest-progress\\\" *ngIf=\\\"latestImage\\\">\\r\\n      <h6 class=\\\"list-header\\\">Latest Progress</h6>\\r\\n      <app-progress-update [update]=\\\"latestImage\\\"></app-progress-update>\\r\\n    </div>\\r\\n    <h6 class=\\\"list-header\\\">Past Progress</h6>\\r\\n    <div class=\\\"older-progress\\\">\\r\\n      <div class=\\\"older-progress-block\\\" *ngFor=\\\"let image of images\\\">\\r\\n        <h6 class=\\\"list-header\\\">Uploaded on {{ formatImage(image.created_at) }}</h6>\\r\\n        <app-progress-update [update]=\\\"image\\\" [expanded]=\\\"this.showDetails\\\"></app-progress-update>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"ion-icon {\\n  color: var(--ion-color-primary-contrast);\\n  padding-right: 10px;\\n  font-size: 24px; }\\n\\n.list-header {\\n  background-color: var(--ion-color-header);\\n  padding: 10px;\\n  text-transform: uppercase;\\n  font-size: 12px;\\n  margin-bottom: 5px; }\\n\\n.older-progress {\\n  height: calc(100vh - 308px);\\n  overflow-y: scroll; }\\n\\n#main-updates {\\n  height: calc(100vh - 44px); }\\n\\n.plt-android #main-updates {\\n  height: calc(100vh - 74px); }\\n\\n@media screen and (max-width: 768px) {\\n  .thumbnail {\\n    height: auto; }\\n    .thumbnail img {\\n      height: auto; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbXktdHJhbnNwaG9ybWVycy9waG90b3MvRTpcXGlvbmljXFxWZXJ2ZUNvbW1lcmNlXFxOZXdEZXZcXG10c3QtYXBwL3NyY1xcYXBwXFxwYWdlc1xcbXktdHJhbnNwaG9ybWVyc1xccGhvdG9zXFxwaG90b3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usd0NBQXdDO0VBQ3hDLG1CQUFtQjtFQUNuQixlQUFlLEVBQUE7O0FBR2pCO0VBQ0UseUNBQXlDO0VBQ3pDLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsZUFBZTtFQUNmLGtCQUFrQixFQUFBOztBQUdwQjtFQUNFLDJCQUEyQjtFQUMzQixrQkFBa0IsRUFBQTs7QUFHcEI7RUFDRSwwQkFBMEIsRUFBQTs7QUFHNUI7RUFDRSwwQkFBMEIsRUFBQTs7QUFHNUI7RUFDRTtJQUNFLFlBQVksRUFBQTtJQURkO01BSUksWUFBWSxFQUFBLEVBQ2IiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9teS10cmFuc3Bob3JtZXJzL3Bob3Rvcy9waG90b3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWljb24ge1xyXG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeS1jb250cmFzdCk7XHJcbiAgcGFkZGluZy1yaWdodDogMTBweDtcclxuICBmb250LXNpemU6IDI0cHg7XHJcbn1cclxuXHJcbi5saXN0LWhlYWRlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWhlYWRlcik7XHJcbiAgcGFkZGluZzogMTBweDtcclxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gIGZvbnQtc2l6ZTogMTJweDtcclxuICBtYXJnaW4tYm90dG9tOiA1cHg7XHJcbn1cclxuXHJcbi5vbGRlci1wcm9ncmVzcyB7XHJcbiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMzA4cHgpO1xyXG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcclxufVxyXG5cclxuI21haW4tdXBkYXRlcyB7XHJcbiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNDRweCk7XHJcbn1cclxuXHJcbi5wbHQtYW5kcm9pZCAjbWFpbi11cGRhdGVzIHtcclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA3NHB4KTtcclxufVxyXG5cclxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY4cHgpIHtcclxuICAudGh1bWJuYWlsIHtcclxuICAgIGhlaWdodDogYXV0bztcclxuXHJcbiAgICBpbWcge1xyXG4gICAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { CameraPhotos } from '../../../services/camera/camera.service';\r\nimport { ErrorsService } from '../../../services/errors/errors.service';\r\nimport { ActionSheetController, LoadingController, ToastController } from '@ionic/angular';\r\nimport { TrainerTransphormerService } from '../../../services/trainer-transphormer/trainer-transphormer.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-photos',\r\n  templateUrl: './photos.page.html',\r\n  styleUrls: ['./photos.page.scss'],\r\n})\r\nexport class PhotosPage implements OnInit {\r\n  public latestImage: CameraPhotos;\r\n  public images: CameraPhotos[] = [];\r\n  public allImages: CameraPhotos[] = [];\r\n  public transphormerId: number;\r\n  private showDetails = true;\r\n\r\n  constructor(public errorService: ErrorsService,\r\n              private toastCtrl: ToastController,\r\n              private loadingCtrl: LoadingController,\r\n              private trainerTransphormerService: TrainerTransphormerService,\r\n              private router: ActivatedRoute,\r\n              private actionCtrl: ActionSheetController) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setupImages();\r\n  }\r\n\r\n  private async setupImages() {\r\n    const loader = await this.loadingCtrl.create({\r\n      message: 'Please wait',\r\n    });\r\n    await loader.present();\r\n\r\n    try {\r\n      this.transphormerId = +this.router.snapshot.paramMap.get('id');\r\n      this.allImages = <CameraPhotos[]>await this.trainerTransphormerService\r\n        .transphormerPhotos(this.transphormerId);\r\n      this.images = this.allImages.slice(0);\r\n      this.latestImage = this.images[0];\r\n      this.images.splice(0, 1);\r\n    } catch (e) {\r\n      const toast = await this.toastCtrl.create({\r\n        message: this.errorService.firstError(e),\r\n        duration: 3000,\r\n      });\r\n      await toast.present();\r\n    } finally {\r\n      loader.dismiss();\r\n    }\r\n  }\r\n\r\n  public formatImage(date: string): string {\r\n    return moment(date, 'YYYY-MM-DD HH:mm:ss').format('MMMM Do, YYYY');\r\n  }\r\n\r\n  public async photoListingAction() {\r\n    const actionSheet = await this.actionCtrl.create({\r\n      buttons: [\r\n        {\r\n          text: 'Reverse Order',\r\n          icon: 'funnel',\r\n          handler: () => {\r\n            this.images = this.images.reverse();\r\n          },\r\n        },\r\n        {\r\n          text: this.showDetails ? 'Hide Details' : 'Show Details',\r\n          icon: 'star',\r\n          handler: () => {\r\n            this.showDetails = !this.showDetails;\r\n          },\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n        },\r\n      ],\r\n    });\r\n    await actionSheet.present();\r\n  }\r\n}\r\n"],"sourceRoot":""}