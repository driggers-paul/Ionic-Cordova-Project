{"version":3,"sources":["webpack:///./src/app/components/bottom-menu/bottom-menu.component.html","webpack:///./src/app/components/bottom-menu/bottom-menu.component.scss","webpack:///./src/app/components/bottom-menu/bottom-menu.component.ts","webpack:///./src/app/components/bottom-menu/bottom-menu.module.ts","webpack:///./src/app/services/workouts/workouts.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA,6nCAA6nC,sBAAsB,gV;;;;;;;;;;;ACAnpC,4BAA4B,oBAAoB,EAAE,iBAAiB,qBAAqB,uBAAuB,EAAE,kBAAkB,kCAAkC,kBAAkB,kCAAkC,wBAAwB,EAAE,iCAAiC,oBAAoB,6BAA6B,4BAA4B,0BAA0B,EAAE,6BAA6B,mBAAmB,qBAAqB,mBAAmB,gBAAgB,sCAAsC,EAAE,2BAA2B,oCAAoC,iCAAiC,sBAAsB,EAAE,qBAAqB,uBAAuB,aAAa,aAAa,EAAE,0BAA0B,uBAAuB,aAAa,aAAa,oBAAoB,EAAE,+CAA+C,+gE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACApyB;AACO;AAE0C;AACpB;AACd;AAOxE;IASE,6BACS,OAAsB,EACrB,SAA0B,EAC1B,aAAmC,EACnC,cAA8B;QAJxC,iBAWC;QAVQ,YAAO,GAAP,OAAO,CAAe;QACrB,cAAS,GAAT,SAAS,CAAiB;QAC1B,kBAAa,GAAb,aAAa,CAAsB;QACnC,mBAAc,GAAd,cAAc,CAAgB;QARjC,uBAAkB,GAAoB,CAAC,CAAC;QACxC,4BAAuB,GAAG,KAAK,CAAC;QAChC,uBAAkB,GAAG,KAAK,CAAC;QAQhC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,4FAAY,CAAC,kBAAkB,CAAC,CAAC,SAAS,CAAC,cAAM,YAAI,CAAC,uBAAuB,EAAE,EAA9B,CAA8B,CAAC,CAAC;QAC3G,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,4FAAY,CAAC,uBAAuB,CAAC,CAAC,SAAS,CAAC,cAAM,YAAI,CAAC,uBAAuB,GAAG,KAAK,EAApC,CAAoC,CAAC,CAAC;QACtH,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,4FAAY,CAAC,uBAAuB,CAAC,CAAC,SAAS,CAAC,cAAM,YAAI,CAAC,uBAAuB,EAAE,EAA9B,CAA8B,CAAC,CAAC;QAChH,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,4FAAY,CAAC,kBAAkB,CAAC,CAAC,SAAS,CAAC,cAAM,YAAI,CAAC,uBAAuB,EAAE,EAA9B,CAA8B,CAAC,CAAC;QAC3G,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,4FAAY,CAAC,kBAAkB,CAAC,CAAC,SAAS,CAAC,cAAM,YAAI,CAAC,uBAAuB,EAAE,EAA9B,CAA8B,CAAC,CAAC;IAC7G,CAAC;IAEM,sCAAQ,GAAf;QACE,mFAAsB,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACvD,IAAI,CAAC,uBAAuB,EAAE,CAAC;IACjC,CAAC;IAEM,2CAAa,GAApB;QACE,mFAAsB,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACvD,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;IACzC,CAAC;IAEM,0CAAY,GAAnB;QACE,mFAAsB,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACvD,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;IAC3C,CAAC;IAEM,2CAAa,GAApB;QACE,mFAAsB,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACvD,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,KAAK,0BAA0B,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACnF,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;SACvC;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;SAC3C;IACH,CAAC;IAEY,0CAAY,GAAzB,UAA0B,OAAe;;;;;;4BACzB,qBAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BACxC,MAAM,EAAE,aAAa;4BACrB,SAAS,EAAK,OAAO,gDAA6C;4BAClE,OAAO,EAAE;gCACP;oCACE,IAAI,EAAE,QAAQ;oCACd,IAAI,EAAE,QAAQ;oCACd,QAAQ,EAAE,QAAQ;iCACnB;gCACD;oCACE,IAAI,EAAE,YAAY;oCAClB,OAAO,EAAE;wCACP,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC;oCAC5C,CAAC;iCACF;6BACF;yBACF,CAAC;;wBAhBI,KAAK,GAAG,SAgBZ;wBACF,sBAAO,KAAK,CAAC,OAAO,EAAE,EAAC;;;;KACxB;IAEM,0CAAY,GAAnB;QACE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YAC3B,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC;YACvC,OAAO,KAAK,CAAC;SACd;QACD,mFAAsB,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACvD,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACxB,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,kBAAkB,CAAC,CAAC;SAClD;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;SAC1C;IACH,CAAC;IAEY,qDAAuB,GAApC;;;;;4BAC8B,qBAAM,IAAI,CAAC,cAAc,CAAC,kBAAkB,EAAE;;wBAApE,KAAK,GAAiB,SAA8C;wBAC1E,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC,4BAA4B,GAAG,CAAC,CAAC;wBACtE,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC,uBAAuB,GAAG,CAAC,CAAC;wBAC5D,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC,uBAAuB,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,uBAAuB,CAAC;;;;;KACxG;IAlFD;QADC,2DAAK,EAAE;;qDACkB;IAHf,mBAAmB;QAL/B,+DAAS,CAAC;YACT,QAAQ,EAAE,iBAAiB;YAC3B,gIAA2C;;SAE5C,CAAC;yCAWkB,4DAAa;YACV,8DAAe;YACX,oGAAoB;YACnB,gFAAc;OAb7B,mBAAmB,CAsF/B;IAAD,0BAAC;CAAA;AAtF+B;;;;;;;;;;;;;;;;;;;;;;;;;ACZS;AACM;AACe;AACP;AACV;AAW7C;IAAA;IACA,CAAC;IADY,gBAAgB;QAT5B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;aACZ;YACD,YAAY,EAAE,CAAC,0EAAmB,CAAC;YACnC,OAAO,EAAE,CAAC,oEAAsB,CAAC;YACjC,OAAO,EAAE,CAAC,0EAAmB,CAAC;SAC/B,CAAC;OACW,gBAAgB,CAC5B;IAAD,uBAAC;CAAA;AAD4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfc;AACQ;AACD;AAGR;AAET;AAqIjC;IAAqC,mCAAW;IAE9C,yBAAsB,IAAgB,EAAY,QAAkB;QAApE,YACE,kBAAM,IAAI,EAAE,QAAQ,CAAC,SACtB;QAFqB,UAAI,GAAJ,IAAI,CAAY;QAAY,cAAQ,GAAR,QAAQ,CAAU;;IAEpE,CAAC;wBAJU,eAAe;IAM1B;;;;OAIG;IACI,sCAAY,GAAnB,UAAoB,IAAU;QAC5B,IAAM,WAAW,GAAM,IAAI,CAAC,WAAW,EAAE,UAAI,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,UAAI,IAAI,CAAC,OAAO,EAAI,CAAC;QACrF,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAiB,iBAAe,CAAC,GAAG,CAAC,cAAY,WAAa,CAAC,EAAE,iBAAe,CAAC,WAAW,EAAE,CAAC;aAChH,SAAS,EAAE;aACX,KAAK,CAAC,iBAAe,CAAC,WAAW,CAAC,CAAC;IACxC,CAAC;IAEM,6CAAmB,GAA1B,UAA2B,KAAW,EAAE,GAAS;QAC/C,IAAM,IAAI,GAAM,KAAK,CAAC,WAAW,EAAE,UAAI,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC,UAAI,KAAK,CAAC,OAAO,EAAI,CAAC;QACjF,IAAM,MAAM,GAAM,GAAG,CAAC,WAAW,EAAE,UAAI,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,UAAI,GAAG,CAAC,OAAO,EAAI,CAAC;QAC7E,IAAM,IAAI,GAAG,iBAAe,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QAC5D,IAAI,CAAC,MAAM,GAAG,EAAC,IAAI,QAAE,IAAI,EAAE,MAAM,EAAC,CAAC;QACnC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAiB,iBAAe,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,IAAI,CAAC;aACxE,SAAS,EAAE;aACX,KAAK,CAAC,iBAAe,CAAC,WAAW,CAAC,CAAC;IACxC,CAAC;IAED;;;;OAIG;IACI,+CAAqB,GAA5B,UAA6B,cAA8B;QAClD,0BAAE,EAAE,0CAAY,EAAE,oCAAS,CAAmB;QACrD,IAAM,OAAO,GAAG;YACd,IAAI,EAAE,YAAY;YAClB,SAAS,EAAE,SAAS;SACrB,CAAC;QACF,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAiB,iBAAe,CAAC,GAAG,CAAC,cAAY,EAAI,CAAC,EAAE,OAAO,EAAE,iBAAe,CAAC,WAAW,EAAE,CAAC;aAChH,SAAS,EAAE;aACX,KAAK,CAAC,iBAAe,CAAC,WAAW,CAAC,CAAC;IACxC,CAAC;IAED;;;;;;OAMG;IACI,2CAAiB,GAAxB,UAAyB,gBAAwB,EAAE,KAAa;QAC9D,IAAM,IAAI,GAAG;YACX,KAAK,EAAE,KAAK;SACb,CAAC;QAEF,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAe,CAAC,GAAG,CAAC,cAAY,gBAAgB,WAAQ,CAAC,EAAE,IAAI,EAAE,iBAAe,CAAC,WAAW,EAAE,CAAC;aAClH,SAAS,EAAE;aACX,KAAK,CAAC,iBAAe,CAAC,WAAW,CAAC,CAAC;IACxC,CAAC;IAED;;;;;OAKG;IACI,yCAAe,GAAtB,UAAuB,UAAkB,EAAE,eAAuB;QAChE,IAAM,OAAO,GAAG,iBAAe,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAClD,OAAO,CAAC,MAAM,GAAG;YACf,WAAW,EAAE,UAAU;YACvB,iBAAiB,EAAE,eAAe;SACnC,CAAC;QAEF,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAkC,iBAAe,CAAC,GAAG,CAAC,2BAA2B,CAAC,EAAE,OAAO,CAAC;aAC7G,SAAS,EAAE;aACX,IAAI,CAAC,gBAAM,IAAI,aAAM,CAAC,GAAG,CAAC,wBAAc;YACvC,cAAc,CAAC,YAAY,GAAG,mCAAM,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;YAClE,OAAO,cAAc,CAAC;QACxB,CAAC,CAAC,EAHc,CAGd,CAAC;aACF,KAAK,CAAC,iBAAe,CAAC,WAAW,CAAC,CAAC;IACxC,CAAC;;IAjFU,eAAe;QAH3B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAG4B,+DAAU,EAAsB,uDAAQ;OAFzD,eAAe,CAkF3B;IAAD,sBAAC;CAAA,CAlFoC,8DAAW,GAkF/C;AAlF2B","file":"default~pages-dashboard-dashboard-module~pages-workouts-workouts-module.js","sourcesContent":["module.exports = \"<ion-footer>\\r\\n  <ion-toolbar>\\r\\n    <div class=\\\"bottom-menu inline\\\">\\r\\n      <div class=\\\"inline-column\\\">\\r\\n        <ion-button fill=\\\"clear\\\" (click)=\\\"goToDashboard()\\\">\\r\\n          <ion-icon name=\\\"speedometer\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <div class=\\\"caption\\\">Dashboard</div>\\r\\n      </div>\\r\\n      <div class=\\\"inline-column\\\">\\r\\n        <ion-button fill=\\\"clear\\\" (click)=\\\"goToWorkouts()\\\">\\r\\n          <ion-icon name=\\\"walk\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <div class=\\\"caption\\\">Workouts</div>\\r\\n      </div>\\r\\n      <div class=\\\"inline-column\\\">\\r\\n        <ion-button fill=\\\"clear\\\" (click)=\\\"goToNutrition()\\\">\\r\\n          <ion-icon src=\\\"/assets/icon/nutrition.svg\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <div class=\\\"caption\\\">Nutrition</div>\\r\\n      </div>\\r\\n      <div class=\\\"inline-column\\\" *ngIf=\\\"user\\\">\\r\\n        <ion-button fill=\\\"clear\\\" (click)=\\\"goToMessages()\\\">\\r\\n          <ion-icon name=\\\"chatboxes\\\"></ion-icon>\\r\\n          <ion-badge *ngIf=\\\"user.is_trainer && advisorHasMessages\\\" class=\\\"unread-advisor\\\" color=\\\"secondary\\\">{{ advisorUnreadCount }}</ion-badge>\\r\\n          <ion-icon name=\\\"radio-button-on\\\" class=\\\"unread-transphormer\\\" color=\\\"danger\\\" mode=\\\"md\\\" *ngIf=\\\"!user.is_trainer && transphormerHasMessages\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <div class=\\\"caption\\\">Inbox</div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\\r\\n\\r\\n\"","module.exports = \"ion-icon {\\n  font-size: 36px; }\\n\\nion-toolbar {\\n  --padding-top: 0;\\n  --padding-bottom:0; }\\n\\n.bottom-menu {\\n  background-color: transparent;\\n  display: flex;\\n  justify-content: space-around;\\n  align-items: center; }\\n\\n.bottom-menu .inline-column {\\n    display: flex;\\n    flex-direction: column;\\n    align-content: center;\\n    align-items: center; }\\n\\n.bottom-menu ion-button {\\n    height: 40px;\\n    --border: none;\\n    --padding: 0;\\n    margin: 0;\\n    --color: var(--ion-color-brand); }\\n\\n.bottom-menu .caption {\\n    color: var(--ion-1p-lightest);\\n    text-transform: capitalize;\\n    font-size: 12px; }\\n\\n.unread-advisor {\\n  position: absolute;\\n  right: 0;\\n  top: 1px; }\\n\\n.unread-transphormer {\\n  position: absolute;\\n  right: 0;\\n  top: 1px;\\n  font-size: 20px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9ib3R0b20tbWVudS9FOlxcaW9uaWNcXFZlcnZlQ29tbWVyY2VcXE5ld0RldlxcbXRzdC1hcHAvc3JjXFxhcHBcXGNvbXBvbmVudHNcXGJvdHRvbS1tZW51XFxib3R0b20tbWVudS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQWUsRUFBQTs7QUFHakI7RUFDRSxnQkFBYztFQUNkLGtCQUFpQixFQUFBOztBQUduQjtFQUNFLDZCQUE2QjtFQUM3QixhQUFhO0VBQ2IsNkJBQTZCO0VBQzdCLG1CQUFtQixFQUFBOztBQUpyQjtJQU9JLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIscUJBQXFCO0lBQ3JCLG1CQUFtQixFQUFBOztBQVZ2QjtJQWNJLFlBQVk7SUFDWixjQUFTO0lBQ1QsWUFBVTtJQUNWLFNBQVM7SUFDVCwrQkFBUSxFQUFBOztBQWxCWjtJQXNCSSw2QkFBNkI7SUFDN0IsMEJBQTBCO0lBQzFCLGVBQWUsRUFBQTs7QUFJbkI7RUFDRSxrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLFFBQVEsRUFBQTs7QUFHVjtFQUNFLGtCQUFrQjtFQUNsQixRQUFRO0VBQ1IsUUFBUTtFQUNSLGVBQWUsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvYm90dG9tLW1lbnUvYm90dG9tLW1lbnUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taWNvbiB7XHJcbiAgZm9udC1zaXplOiAzNnB4O1xyXG59XHJcblxyXG5pb24tdG9vbGJhciB7XHJcbiAgLS1wYWRkaW5nLXRvcDogMDtcclxuICAtLXBhZGRpbmctYm90dG9tOjA7XHJcbn1cclxuXHJcbi5ib3R0b20tbWVudSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cclxuICAuaW5saW5lLWNvbHVtbiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgfVxyXG5cclxuICBpb24tYnV0dG9uIHtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIC0tYm9yZGVyOiBub25lO1xyXG4gICAgLS1wYWRkaW5nOiAwO1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgLS1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWJyYW5kKTtcclxuICB9XHJcblxyXG4gIC5jYXB0aW9uIHtcclxuICAgIGNvbG9yOiB2YXIoLS1pb24tMXAtbGlnaHRlc3QpO1xyXG4gICAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgfVxyXG59XHJcblxyXG4udW5yZWFkLWFkdmlzb3Ige1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICByaWdodDogMDtcclxuICB0b3A6IDFweDtcclxufVxyXG5cclxuLnVucmVhZC10cmFuc3Bob3JtZXIge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICByaWdodDogMDtcclxuICB0b3A6IDFweDtcclxuICBmb250LXNpemU6IDIwcHg7XHJcbn1cclxuIl19 */\"","import { Component, Input, OnInit } from '@angular/core';\r\nimport { AlertController, NavController } from '@ionic/angular';\r\nimport { Transphormer } from '../../services/authentication/authentication.service';\r\nimport { GlobalEmitterService, GlobalEvents } from '../../services/global-emitter/global-emitter.service';\r\nimport { MessageCount, MessageService } from '../../services/message/message.service';\r\nimport { SideMenuHandlerEmitter } from '../side-menu/side-menu-handler';\r\n\r\n@Component({\r\n  selector: 'app-bottom-menu',\r\n  templateUrl: './bottom-menu.component.html',\r\n  styleUrls: ['./bottom-menu.component.scss'],\r\n})\r\nexport class BottomMenuComponent implements OnInit {\r\n\r\n  @Input()\r\n  public user: Transphormer;\r\n\r\n  public advisorUnreadCount: number | string = 0;\r\n  public transphormerHasMessages = false;\r\n  public advisorHasMessages = false;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private alertCtrl: AlertController,\r\n    private globalEmitter: GlobalEmitterService,\r\n    private messageService: MessageService\r\n  ) {\r\n    this.globalEmitter.listen(GlobalEvents.SessionInitialized).subscribe(() => this.checkUnreadNotification());\r\n    this.globalEmitter.listen(GlobalEvents.TransphormerMessageRead).subscribe(() => this.transphormerHasMessages = false);\r\n    this.globalEmitter.listen(GlobalEvents.NewTransphormerMessages).subscribe(() => this.checkUnreadNotification());\r\n    this.globalEmitter.listen(GlobalEvents.NewAdvisorMessages).subscribe(() => this.checkUnreadNotification());\r\n    this.globalEmitter.listen(GlobalEvents.AdvisorMessageRead).subscribe(() => this.checkUnreadNotification());\r\n  }\r\n\r\n  public ngOnInit() {\r\n    SideMenuHandlerEmitter.getEmitter().emit('navigating');\r\n    this.checkUnreadNotification();\r\n  }\r\n\r\n  public goToDashboard() {\r\n    SideMenuHandlerEmitter.getEmitter().emit('navigating');\r\n    this.navCtrl.navigateRoot('dashboard');\r\n  }\r\n\r\n  public goToWorkouts() {\r\n    SideMenuHandlerEmitter.getEmitter().emit('navigating');\r\n    this.navCtrl.navigateForward('workouts');\r\n  }\r\n\r\n  public goToNutrition() {\r\n    SideMenuHandlerEmitter.getEmitter().emit('navigating');\r\n    if (this.user.likely_to_do === 'Calorie / Macro counting' && this.user.is_paid_user) {\r\n      this.navCtrl.navigateForward('macro');\r\n    } else {\r\n      this.navCtrl.navigateForward('nutrition');\r\n    }\r\n  }\r\n\r\n  public async premiumAlert(feature: string) {\r\n    const alert = await this.alertCtrl.create({\r\n      header: 'Go Premium?',\r\n      subHeader: `${feature} is available only for Premium subscribers.`,\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          cssClass: 'danger',\r\n        },\r\n        {\r\n          text: 'Go Premium',\r\n          handler: () => {\r\n            this.navCtrl.navigateRoot('subscription');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    return alert.present();\r\n  }\r\n\r\n  public goToMessages() {\r\n    if (!this.user.is_paid_user) {\r\n      this.premiumAlert('Advisor messaging');\r\n      return false;\r\n    }\r\n    SideMenuHandlerEmitter.getEmitter().emit('navigating');\r\n    if (this.user.is_trainer) {\r\n      this.navCtrl.navigateForward('trainer-messages');\r\n    } else {\r\n      this.navCtrl.navigateForward('messages');\r\n    }\r\n  }\r\n\r\n  public async checkUnreadNotification() {\r\n    const count = <MessageCount>await this.messageService.unreadMessageCount();\r\n    this.transphormerHasMessages = count.unread_transphormer_messages > 0;\r\n    this.advisorHasMessages = count.unread_advisor_messages > 0;\r\n    this.advisorUnreadCount = count.unread_advisor_messages >= 100 ? '99+' : count.unread_advisor_messages;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BottomMenuComponent } from './bottom-menu.component';\r\nimport { CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule\r\n  ],\r\n  declarations: [BottomMenuComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n  exports: [BottomMenuComponent]\r\n})\r\nexport class BottomMenuModule {\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BaseService } from '../base/base.service';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ErrorFormat } from '../errors/errors.service';\r\nimport { Tag } from '../excercise/exercise.service';\r\nimport { Platform } from '@ionic/angular';\r\nimport { Moment } from 'moment';\r\nimport * as moment from 'moment';\r\n\r\nexport interface WorkoutSession {\r\n  id: number;\r\n  workout_id: number;\r\n  transphormer_id: number;\r\n  completed: boolean;\r\n  workout_data: WorkoutExerciseData[] | null;\r\n  workout: Workout;\r\n  notes: WorkoutNote | null;\r\n  workout_date: string;\r\n  session_exercises: WorkoutSessionExercise[];\r\n}\r\n\r\nexport interface WorkoutExerciseData {\r\n  exercise_group_id: number;\r\n  exercise_id: number;\r\n  workout_session_id: number;\r\n  workout_info: WorkoutInfo[] | null;\r\n  logged_on: string | null;\r\n  completed_on: string | null;\r\n}\r\n\r\nexport interface WorkoutInfo {\r\n  reps?: number | null;\r\n  weight: number | null;\r\n}\r\n\r\nexport interface Workout {\r\n  id: number;\r\n  training_id: number;\r\n  workout_date: string;\r\n  is_rest_day?: number;\r\n  name?: string;\r\n  week: number;\r\n  day: number;\r\n  exercise_groups: WorkoutGroup[];\r\n  training?: Training;\r\n}\r\n\r\nexport interface WorkoutGroup {\r\n  id: number;\r\n  workout_id: number;\r\n  exercise_group_template_id?: number;\r\n  name?: string;\r\n  instructions?: string;\r\n  group_time?: number;\r\n  total_sets?: number;\r\n  repeat?: number;\r\n  order_number: number;\r\n  created_at: string;\r\n  updated_at: string;\r\n  exercises: WorkoutExercise[];\r\n}\r\n\r\n\r\nexport interface Training {\r\n  id: number;\r\n  program_type: string;\r\n  training_level: string;\r\n  subscription_type: string;\r\n  description?: string;\r\n  start_date: string;\r\n  end_date: string;\r\n  name: string;\r\n}\r\n\r\nexport interface Exercise {\r\n  id: number;\r\n  name: string;\r\n  modification_notes: string;\r\n  video: string;\r\n  video_url: string;\r\n  link?: string;\r\n  description: string;\r\n  isEditing?: boolean;\r\n  tags?: Tag[];\r\n  alternate_exercises?: Exercise[];\r\n}\r\n\r\nexport interface WorkoutExercise {\r\n  id: number;\r\n  exercise_group_id: number;\r\n  exercise_group_template_exercise_id?: number;\r\n  exercise_id: number;\r\n  total_sets: null;\r\n  record_type?: number;\r\n  instructions?: string;\r\n  order_number: number;\r\n  created_at: string;\r\n  updated_at: string;\r\n  time_period: number;\r\n  name: string;\r\n  exercise: Exercise;\r\n  last_exercise_records?: string;\r\n}\r\n\r\nexport interface WorkoutExercisePivot extends Exercise {\r\n  pivot: {\r\n    instructions: string;\r\n    record_type: ExerciseTypes;\r\n    id: number;\r\n    total_reps: number | null;\r\n  };\r\n}\r\n\r\nexport interface WorkoutNote {\r\n  id: number;\r\n  transphormer_id: number;\r\n  workout_session_id: number;\r\n  notes: string;\r\n}\r\n\r\nexport type ExerciseTypes = 'Weight' | 'Weight and Reps' | 'Nothing';\r\n\r\nexport interface WorkoutSessionExercise {\r\n  id: number;\r\n  workout_session_id: number;\r\n  exercise_id: number;\r\n  exercise_group_id: number;\r\n  set: number;\r\n  reps: number | null;\r\n  weight: number | null;\r\n}\r\n\r\nexport interface WorkoutSessionExerciseHistory {\r\n  workout_date: string | Moment;\r\n  workout_session_exercises: WorkoutSessionExercise[];\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class WorkoutsService extends BaseService {\r\n\r\n  constructor(protected http: HttpClient, protected platform: Platform) {\r\n    super(http, platform);\r\n  }\r\n\r\n  /**\r\n   * Fetches workout data for the day\r\n   *\r\n   * @param date\r\n   */\r\n  public fetchWorkout(date: Date): Promise<WorkoutSession | ErrorFormat> {\r\n    const workoutDate = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n    return this.http.get<WorkoutSession>(WorkoutsService.Url(`workouts/${workoutDate}`), WorkoutsService.BaseOptions())\r\n      .toPromise()\r\n      .catch(WorkoutsService.HandleError);\r\n  }\r\n\r\n  public fetchWorkoutSummary(_from: Date, _to: Date): Promise<WorkoutSession | ErrorFormat> {\r\n    const from = `${_from.getFullYear()}-${_from.getMonth() + 1}-${_from.getDate()}`;\r\n    const toDate = `${_to.getFullYear()}-${_to.getMonth() + 1}-${_to.getDate()}`;\r\n    const opts = WorkoutsService.BaseOptions(true, true, 86400);\r\n    opts.params = {from, 'to': toDate};\r\n    return this.http.get<WorkoutSession>(WorkoutsService.Url(`workouts`), opts)\r\n      .toPromise()\r\n      .catch(WorkoutsService.HandleError);\r\n  }\r\n\r\n  /**\r\n   * Updates workout data\r\n   *\r\n   * @param workoutSession\r\n   */\r\n  public updateWorkoutExercise(workoutSession: WorkoutSession): Promise<WorkoutSession | ErrorFormat> {\r\n    const {id, workout_data, completed} = workoutSession;\r\n    const payload = {\r\n      data: workout_data,\r\n      completed: completed\r\n    };\r\n    return this.http.put<WorkoutSession>(WorkoutsService.Url(`workouts/${id}`), payload, WorkoutsService.BaseOptions())\r\n      .toPromise()\r\n      .catch(WorkoutsService.HandleError);\r\n  }\r\n\r\n  /**\r\n   * Update workout notes content\r\n   *\r\n   *\r\n   * @param workoutSessionId\r\n   * @param notes\r\n   */\r\n  public updateWorkoutNote(workoutSessionId: number, notes: string): Promise<any | ErrorFormat> {\r\n    const data = {\r\n      notes: notes\r\n    };\r\n\r\n    return this.http.post(WorkoutsService.Url(`workouts/${workoutSessionId}/notes`), data, WorkoutsService.BaseOptions())\r\n      .toPromise()\r\n      .catch(WorkoutsService.HandleError);\r\n  }\r\n\r\n  /**\r\n   * Returns list of exercise history logged by transphormer.\r\n   *\r\n   * @param exerciseId\r\n   * @param exerciseGroupId\r\n   */\r\n  public exerciseHistory(exerciseId: number, exerciseGroupId: number): Promise<WorkoutSessionExerciseHistory[] | ErrorFormat> {\r\n    const options = WorkoutsService.BaseOptions(true);\r\n    options.params = {\r\n      exercise_id: exerciseId,\r\n      exercise_group_id: exerciseGroupId\r\n    };\r\n\r\n    return this.http.get<WorkoutSessionExerciseHistory[]>(WorkoutsService.Url('workouts/exercise/history'), options)\r\n      .toPromise()\r\n      .then(result => result.map(workoutSession => {\r\n        workoutSession.workout_date = moment(workoutSession.workout_date);\r\n        return workoutSession;\r\n      }))\r\n      .catch(WorkoutsService.HandleError);\r\n  }\r\n}\r\n"],"sourceRoot":""}